<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:Forex.Wpf.Resources.Converters">

    <converters:StringIsNotEmptyConverter x:Key="StringIsNotEmptyConverter" />

    <Style x:Key="FloatingLabelStyle" TargetType="TextBlock">
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{DynamicResource PrimaryTextColor}" />

        <Style.Triggers>
            <!--  When the text is not empty  -->
            <DataTrigger Binding="{Binding Tag.Text, RelativeSource={RelativeSource Self}, Converter={StaticResource StringIsNotEmptyConverter}}" Value="True">

                <Setter Property="VerticalAlignment" Value="Top" />
                <Setter Property="Margin" Value="0,-18,0,0" />
            </DataTrigger>

            <!--  When any element inside the UserControl has focus  -->
            <DataTrigger Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="True">
                <Setter Property="VerticalAlignment" Value="Top" />
                <Setter Property="Margin" Value="0,-18,0,0" />
            </DataTrigger>
        </Style.Triggers>
    </Style>

</ResourceDictionary>